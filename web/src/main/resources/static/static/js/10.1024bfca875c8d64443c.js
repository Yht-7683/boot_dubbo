webpackJsonp([10],{"2tIc":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("NHnr"),i={data:function(){return{user:{id:"",name:"",img:"",probability:"",num:"",money:"",buynum:"1"},list:[],dialogTableVisible:!1,formLabelWidth:"80px",loading:!0}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.list=[],Object(l.postRequest)("/api/public/showUserBall",{userid:JSON.parse(window.localStorage.getItem("user")).id}).then(function(t){200===t.data.code?(e.list=t.data.data,e.loading=!1):-1===t.data.code&&alert(t.data.msg)}).catch(function(e){})},handleEdit:function(e,t){this.dialogTableVisible=!0,this.user.id=t.id,this.user.name=t.name,this.user.img=t.img,this.user.num=t.num,this.user.money=t.money},upUser:function(){var e=this;this.loading=!0,Object(l.postRequest)("/api/public/upBallPack",{userid:JSON.parse(window.localStorage.getItem("user")).id,ballid:this.user.id,num:this.user.buynum}).then(function(t){200===t.data.code?e.$message({message:""+t.data.msg,type:"success"}):-1===t.data.code&&e.$message({message:""+t.data.msg,type:"error"})}).catch(function(e){console.log(e)}),this.loading=!1,this.dialogTableVisible=!1,this.user.buynum=1,this.fetchData()},undo:function(){this.dialogTableVisible=!1}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"85%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{label:"道具号",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"外观",prop:"img"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"65px",height:"65px"},attrs:{src:e.row.img}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"道具名",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"强度",prop:"probability"}}),e._v(" "),a("el-table-column",{attrs:{label:"价格",prop:"money"}}),e._v(" "),a("el-table-column",{attrs:{label:"拥有数量",prop:"num"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success",plain:"",round:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("购买")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"购买精灵球",visible:e.dialogTableVisible,width:"30%"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-form",{attrs:{model:e.user}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth}},[a("el-image",{staticStyle:{width:"65px",height:"65px"},attrs:{src:e.user.img}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名字","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"拥有数量","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:e.user.num,callback:function(t){e.$set(e.user,"num",t)},expression:"user.num"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"价格","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:e.user.money,callback:function(t){e.$set(e.user,"money",t)},expression:"user.money"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"购买数量","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{min:1,max:99},model:{value:e.user.buynum,callback:function(t){e.$set(e.user,"buynum",t)},expression:"user.buynum"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.upUser}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){return e.undo()}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(i,s,!1,function(e){a("QX/z")},"data-v-6fdd5a66",null);t.default=o.exports},"QX/z":function(e,t){}});
//# sourceMappingURL=10.1024bfca875c8d64443c.js.map