webpackJsonp([11],{fJhy:function(e,t){},jyJz:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("NHnr"),l={data:function(){return{total:null,currentPage1:1,dialogTableVisible:!1,dialogTableVisible2:!1,pageSize:6,formLabelWidth:"80px",user:{id:"",name:"",password:"",phone:"",money:"",state:"",role:"",sex:"",photo:""},userdate:[],list:[],search:""}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.list=[],Object(a.postRequest)("/api/public/getAllUser",{}).then(function(t){200===t.data.code?(e.list=t.data.data,e.craetep()):-1===t.data.code&&alert(t.data.msg)}).catch(function(e){console.log(e)})},craetep:function(){this.userdate=[];for(var e=(this.currentPage1-1)*this.pageSize,t=this.currentPage1*this.pageSize;e<t;e++)this.list[e]&&this.userdate.push(this.list[e]);this.total=this.list.length},handleEdit:function(e,t){this.dialogTableVisible=!0,this.user.id=t.id,this.user.name=t.name,this.user.password=t.password,this.user.photo=t.photo,this.user.money=t.money,this.user.phone=t.phone,this.user.sex=t.sex,this.user.state=t.state,this.user.role=t.role,console.log(e,t)},find:function(){var e=this;Object(a.postRequest)("/api/public/searchUser",{searchParam:this.search}).then(function(t){200===t.data.code?(e.list=[],e.list=t.data.data,e.craetep(),e.$message(""+t.data.msg)):-1===t.data.code&&alert(""+t.data.msg)}).catch(function(e){console.log(e)}),Object(a.postRequest)("/api/public/searchUser",{searchParam:this.search}).then(function(t){200===t.data.code?(e.list=t.data.data,e.userdate=[],e.craetep()):-1===t.data.code&&alert(t.data.msg)}).catch(function(e){console.log(e)})},upUser:function(){var e=this,t={id:this.user.id,name:this.user.name,password:this.user.password,photo:this.user.photo,money:this.user.money,phone:this.user.phone,sex:this.user.sex,state:this.user.state,role:this.user.role};Object(a.postRequest)("/api/public/upUser/",t).then(function(t){console.log(t),200===t.data.code?e.$message(""+t.data.msg):alert(""+t.data.msg)}).catch(function(e){console.log(e)}),this.dialogTableVisible=!1,this.fetchData()},handleDelete:function(e,t){this.$message.error("权限不够，无法删除"),console.log(e,t)},adduser1:function(){this.dialogTableVisible2=!0,this.user.id="",this.user.name="",this.user.password="",this.user.photo="",this.user.money="",this.user.phone="",this.user.sex="男",this.user.state="正常",this.user.role="用户"},addUser:function(){var e=this;if(""!==this.user.id&&""!==this.user.name&&""!==this.user.password&&""!==this.user.money&&""!==this.user.phone){this.dialogTableVisible2=!1;var t={id:this.user.id,name:this.user.name,password:this.user.password,money:this.user.money,phone:this.user.phone,sex:this.user.sex,state:this.user.state,role:this.user.role};Object(a.postRequest)("/api/public/addUser",t).then(function(t){200===t.data.code?e.$message({message:""+t.data.msg,type:"success"}):alert(""+t.data.msg)}).catch(function(e){console.log(e)}),this.fetchData()}else alert("关键信息不能为空")},handleSizeChange1:function(e){this.pageSize=e,this.handleCurrentChange1(this.currentPage1)},handleCurrentChange1:function(e){this.currentPage1=e,this.currentChangePage(this.list,e)},currentChangePage:function(e,t){var s=(t-1)*this.pageSize,a=t*this.pageSize;for(this.userdate=[];s<a;s++)e[s]&&this.userdate.push(e[s])}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[[s("div",{staticClass:"tb"},[s("el-input",{staticStyle:{"box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"},attrs:{placeholder:"输入关键字搜索"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.find},slot:"append"},[e._v("查找")]),s("el-button",{attrs:{slot:"append"},on:{click:e.adduser1},slot:"append"},[e._v("添加")])],1)],1)],e._v(" "),s("el-table",{attrs:{border:"",data:e.userdate}},[s("el-table-column",{attrs:{label:"ID",prop:"id",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{label:"头像",prop:"photo",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("el-image",{staticStyle:{width:"65px",height:"65px"},attrs:{src:e.row.photo}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"用户名",prop:"name",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{label:"密码",prop:"password",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{label:"联系方式",prop:"phone",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{label:"金币",prop:"money",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{label:"账户状态",prop:"state",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{label:"角色",prop:"role",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{label:"性别",prop:"sex",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{label:"注册时间",prop:"registTime",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini",type:"success",plain:"",round:""},on:{click:function(s){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{size:"mini",type:"danger",plain:"",round:""},on:{click:function(s){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"page-sizes":[10,20,50,100],total:e.total,"current-page":e.currentPage1},on:{"size-change":e.handleSizeChange1,"current-change":e.handleCurrentChange1}})],1),e._v(" "),s("el-dialog",{attrs:{title:"修改用户信息",visible:e.dialogTableVisible,width:"30%"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[s("el-form",{attrs:{model:e.user}},[s("el-form-item",{attrs:{label:"ID","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:e.user.id,callback:function(t){e.$set(e.user,"id",t)},expression:"user.id"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"联系方式","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"金币","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.money,callback:function(t){e.$set(e.user,"money",t)},expression:"user.money"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"账户状态","label-width":e.formLabelWidth}},[s("div",[s("el-radio",{attrs:{label:"正常",border:""},model:{value:e.user.state,callback:function(t){e.$set(e.user,"state",t)},expression:"user.state"}},[e._v("正常")]),e._v(" "),s("el-radio",{attrs:{label:"冻结",border:""},model:{value:e.user.state,callback:function(t){e.$set(e.user,"state",t)},expression:"user.state"}},[e._v("冻结")])],1)]),e._v(" "),s("el-form-item",{attrs:{label:"角色","label-width":e.formLabelWidth}},[s("div",[s("el-radio",{attrs:{label:"管理员",border:""},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}},[e._v("管理员")]),e._v(" "),s("el-radio",{attrs:{label:"用户",border:""},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}},[e._v("用户")])],1)]),e._v(" "),s("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth}},[s("div",[s("el-radio",{attrs:{label:"男",border:""},model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[e._v("男")]),e._v(" "),s("el-radio",{attrs:{label:"女",border:""},model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[e._v("女")])],1)])],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.upUser}},[e._v("确 定")]),e._v(" "),s("el-button",{on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"添加用户",visible:e.dialogTableVisible2,width:"30%"},on:{"update:visible":function(t){e.dialogTableVisible2=t}}},[s("el-form",{attrs:{model:e.user}},[s("el-form-item",{attrs:{label:"ID","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.id,callback:function(t){e.$set(e.user,"id",t)},expression:"user.id"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"联系方式","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"金币","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.money,callback:function(t){e.$set(e.user,"money",t)},expression:"user.money"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"账户状态","label-width":e.formLabelWidth}},[s("div",[s("el-radio",{attrs:{label:"正常",border:""},model:{value:e.user.state,callback:function(t){e.$set(e.user,"state",t)},expression:"user.state"}},[e._v("正常")]),e._v(" "),s("el-radio",{attrs:{label:"冻结",border:""},model:{value:e.user.state,callback:function(t){e.$set(e.user,"state",t)},expression:"user.state"}},[e._v("冻结")])],1)]),e._v(" "),s("el-form-item",{attrs:{label:"角色","label-width":e.formLabelWidth}},[s("div",[s("el-radio",{attrs:{label:"管理员",border:""},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}},[e._v("管理员")]),e._v(" "),s("el-radio",{attrs:{label:"用户",border:""},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}},[e._v("用户")])],1)]),e._v(" "),s("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth}},[s("div",[s("el-radio",{attrs:{label:"男",border:""},model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[e._v("男")]),e._v(" "),s("el-radio",{attrs:{label:"女",border:""},model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[e._v("女")])],1)])],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("确 定")]),e._v(" "),s("el-button",{on:{click:function(t){e.dialogTableVisible2=!1}}},[e._v("取 消")])],1)],1)],2)},staticRenderFns:[]};var o=s("VU/8")(l,r,!1,function(e){s("fJhy")},"data-v-61262b65",null);t.default=o.exports}});
//# sourceMappingURL=11.2f285b7588bac4c7bf3b.js.map